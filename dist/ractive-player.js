/*!
 * Copyright (c) 2018 Yuri Sulyma
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 */
var RactivePlayer=function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports=React},function(e,t,n){"use strict";function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},s.prototype.emit=function(e){var t,n,s,a,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),s=(c=n.slice()).length,l=0;l<s;l++)c[l].apply(this,a);return!0},s.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(n=o(this._maxListeners)?s.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function s(){this.removeListener(e,s),n||(n=!0,t.apply(this,arguments))}return s.listener=t,this.on(e,s),this},s.prototype.removeListener=function(e,t){var n,s,o,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,s=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){s=a;break}if(s<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},s.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},s.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},s.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},s.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";n.r(t);var s={};n.r(s),n.d(s,"awaitMediaCanPlay",function(){return m}),n.d(s,"awaitMediaCanPlayThrough",function(){return f});var r={};n.r(r),n.d(r,"bind",function(){return y}),n.d(r,"wait",function(){return v}),n.d(r,"waitFor",function(){return g}),n.d(r,"whitelist",function(){return b}),n.d(r,"range",function(){return E}),n.d(r,"constrain",function(){return k}),n.d(r,"between",function(){return w});var i={};n.r(i),n.d(i,"parseTime",function(){return _}),n.d(i,"formatTime",function(){return x}),n.d(i,"formatTimeMs",function(){return C});var o={};n.r(o),n.d(o,"recursiveMap",function(){return D}),n.d(o,"createContextBroadcaster",function(){return L});var a={};n.r(a),n.d(a,"dragHelper",function(){return Q}),n.d(a,"dragHelperReact",function(){return q});var l={};n.r(l),n.d(l,"animate",function(){return he}),n.d(l,"replay",function(){return pe}),n.d(l,"easings",function(){return de});var c={};n.r(c),n.d(c,"pos",function(){return be}),n.d(c,"showIf",function(){return Ee}),n.d(c,"from",function(){return ke}),n.d(c,"wrapIf",function(){return we});var u={};n.r(u),n.d(u,"screenToSVG",function(){return _e}),n.d(u,"screenToSVGVector",function(){return xe}),n.d(u,"extendThree",function(){return Ce});var h={};n.r(h),n.d(h,"animation",function(){return l}),n.d(h,"authoring",function(){return c}),n.d(h,"graphics",function(){return u}),n.d(h,"interactivity",function(){return a}),n.d(h,"media",function(){return s}),n.d(h,"misc",function(){return r}),n.d(h,"react",function(){return o}),n.d(h,"time",function(){return i});var p=1/8,d=n(0);function m(e){return new Promise((t,n)=>{if(e.readyState===e.HAVE_FUTURE_DATA)return t();e.addEventListener("canplay",()=>t())})}function f(e){return new Promise((t,n)=>{if(e.readyState===e.HAVE_ENOUGH_DATA)return t();e.addEventListener("canplaythrough",()=>t())})}function y(e,t){for(const n of t)e[n]=e[n].bind(e)}function v(e){return new Promise((t,n)=>{setTimeout(t,e)})}function g(e,t=10){return new Promise((n,s)=>{!function s(){e()?n():setTimeout(s,t)}()})}function b(e,t){const n={};for(const s of Object.keys(e))t.includes(s)&&(n[s]=e[s]);return n}function E(e){return new Array(e).fill(null).map((e,t)=>t)}function k(e,t,n){return Math.min(n,Math.max(e,t))}function w(e,t,n){return e<=t&&t<n}function _(e){let[t,n,s,r]=e.match(/^(?:(?:(\d+):)?(\d+):)?(\d+)(?:\.(\d+))?$/).slice(1).map(e=>e||"0");r=r.padEnd(3,"0");const[i,o,a,l]=[t,n,s,r].map(e=>parseInt(e));return l+1e3*(a+60*(o+60*i))}function x(e){return`${Math.floor(e/60/1e3)}:${Math.floor(e/1e3%60).toString().padStart(2,"0")}`}function C(e){const t=Math.floor(e%1e3);return`${Math.floor(e/60/1e3)}:${Math.floor(e/1e3%60).toString().padStart(2,"0")}.${t}`}class S extends d.PureComponent{constructor(e){super(e),this.player=e.player,"string"==typeof e.start?e.start.match(/^(?:(?:(\d+):)?(\d+):)?(\d+)(?:\.(\d+))?$/)?this.start=_(e.start):this.start=this.player.script.slideByName(e.start)[1]:this.start=e.start,y(this,["onPause","onRateChange","onSeek","onSeeking","onTimeUpdate","onVolumeChange"])}componentDidMount(){const{playback:e}=this.player;e.hub.on("pause",this.onPause),e.hub.on("ratechange",this.onRateChange),e.hub.on("seek",this.onSeek),e.hub.on("seeked",this.onSeek),e.hub.on("seeking",this.onSeeking),e.hub.on("timeupdate",this.onTimeUpdate),e.hub.on("volumechange",this.onVolumeChange),this.player.obstruct("canplay",m(this.domElement)),this.player.obstruct("canplaythrough",f(this.domElement)),this.onVolumeChange();const t=()=>{const e=this.domElement.buffered,t=[];for(let n=0;n<e.length;++n)e.end(n)!==1/0&&t.push([1e3*e.start(n)+this.start,1e3*e.end(n)+this.start]);return t},n=()=>{this.player.updateBuffer(this.domElement,t())};this.player.registerBuffer(this.domElement),n(),this.domElement.addEventListener("progress",n)}get end(){return this.start+1e3*this.domElement.duration}onPause(){this.domElement.pause()}onRateChange(){this.domElement.playbackRate=this.player.playback.playbackRate}onSeeking(){this.domElement.pause()}onSeek(e){const{playback:t}=this.player;this.start<=e&&e<this.end?(this.domElement.currentTime=(e-this.start)/1e3,!this.domElement.paused||t.paused||t.seeking||this.domElement.play().catch(console.error)):this.domElement.paused||this.domElement.pause()}onTimeUpdate(e){if(this.start<=e&&e<this.end){if(!this.domElement.paused)return;this.domElement.currentTime=(e-this.start)/1e3,this.domElement.play().catch(console.error)}else this.domElement.paused||this.domElement.pause()}onVolumeChange(){const{playback:e}=this.player;this.domElement.volume=e.volume,this.domElement.muted=e.muted}}var T=n(1);function O(){for(const e of["webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"])if(document.body[e])return document.body[e]()}function M(){for(const e of["webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"])if(document[e])return document[e]()}function P(){for(const e of["webkitIsFullScreen","mozFullScreen"])if(void 0!==document[e])return document[e]}var N=n(2);function D(e,t){return d.Children.map(e,e=>d.isValidElement(e)?("children"in e.props&&(e=d.cloneElement(e,{children:D(e.props.children,t)})),t(e)):e)}function L(e,t,n){return class extends d.PureComponent{render(){return d.createElement(e.Consumer,null,e=>D(this.props.children,s=>{if("string"==typeof s.type)return s;if(!(t in s.type))return s;return d.cloneElement(s,{[n]:e})}))}}}const R=d.createContext(),F=Symbol(),I=class extends d.Component{},U=class extends d.PureComponent{};I[F]=!0,U[F]=!0;const B=L(R,F,"player");class j extends U{constructor(e){super(e),y(this,["close","open","togglePane"]),this.state={activity:null,paneOpen:!1}}close(){this.setState({activity:null})}open(e){this.setState({activity:e,paneOpen:!1})}togglePane(){this.setState({paneOpen:!this.state.paneOpen})}render(){const{paneOpen:e}=this.state,t={display:e?"block":"none"},n=this.props.list;return d.createElement("div",{id:"rp-controls-activities"},this.state.activity&&d.createElement(A,{activity:this.state.activity,close:this.close}),d.createElement("div",{id:"rp-activities-dialog",style:t},d.createElement(n,{open:this.open})),d.createElement("svg",{onClick:this.togglePane,height:"36",width:"36",viewBox:"0 0 100 100"},d.createElement("rect",{x:25,y:31,height:6,width:50,fill:"#FFF"}),d.createElement("rect",{x:25,y:47,height:6,width:50,fill:"#FFF"}),d.createElement("rect",{x:25,y:63,height:6,width:50,fill:"#FFF"})))}}class A extends d.PureComponent{render(){const e=this.props.activity;return N.createPortal(d.createElement("div",{id:"rp-activity-overlay"},d.createElement(e,{close:this.props.close})),document.body)}}class V extends d.PureComponent{componentDidMount(){!function(e){for(const t of["webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"])document.addEventListener(t,e)}(()=>this.forceUpdate())}render(){return P()?d.createElement("svg",{className:"rp-controls-fullscreen",onClick:M,viewBox:"0 0 36 36"},d.createElement("path",{fill:"white",d:"M 14 14 h -4 v 2 h 6 v -6 h -2 v 4 z"}),d.createElement("path",{fill:"white",d:"M 22 14 v -4 h -2 v 6 h 6 v -2 h -4 z"}),d.createElement("path",{fill:"white",d:"M 20 26 h 2 v -4 h 4 v -2 h -6 v 6 z"}),d.createElement("path",{fill:"white",d:"M 10 22 h 4 v 4 h 2 v -6 h -6 v 2 z"})):d.createElement("svg",{className:"rp-controls-fullscreen",onClick:O,viewBox:"0 0 36 36"},d.createElement("path",{fill:"white",d:"M 10 16 h 2 v -4 h 4 v -2 h -6 v 6 z"}),d.createElement("path",{fill:"white",d:"M 20 10 v 2 h 4 v 4 h 2 v -6 h -6 z"}),d.createElement("path",{fill:"white",d:"M 24 24 h -4 v 2 h 6 v -6 h -2 v 4 z"}),d.createElement("path",{fill:"white",d:"M 12 20 h -2 v 6 h 6 v -2 h -4 v -4 z"}))}}class $ extends d.PureComponent{constructor(e){super(e),y(this,["openDialog"]),this.state={dialogOpen:!1}}closeDialog(){this.setState({dialogOpen:!1})}openDialog(){this.setState({dialogOpen:!0})}toggleDialog(){this.setState({dialogOpen:!this.state.dialogOpen})}render(){const e={display:this.state.dialogOpen?"block":"none"};return d.createElement(d.Fragment,null,d.createElement(z,{style:e,openDialog:this.openDialog}),d.createElement("svg",{className:"rp-controls-help",onClick:this.openDialog,viewBox:"0 0 20 20"},d.createElement("path",{d:"m 10.896484,3.8652344 c -1.2309996,0 -1.7499996,0.8536094 -1.7499996,1.4746094 -0.026,0.737 0.39525,1.1816406 1.2812496,1.1816406 1.059,0 1.679688,-0.7171875 1.679688,-1.4921875 0,-0.621 -0.274938,-1.1640625 -1.210938,-1.1640625 z",fill:"#FFF",stroke:"none"}),d.createElement("path",{d:"m 10.847656,8.0332031 c -0.765,0 -2.5524216,0.7615469 -4.1074216,2.0605469 l 0.3183594,0.523438 c 0.49,-0.33 1.3207187,-0.664063 1.5117187,-0.664063 0.148,0 0.127,0.193734 0,0.677734 L 7.8378906,13.65625 c -0.447,1.705 0.020156,2.09375 0.6601563,2.09375 0.639,0 2.2877811,-0.58175 3.8007811,-2.09375 L 11.9375,13.169922 c -0.618,0.487 -1.247453,0.71875 -1.439453,0.71875 -0.149,0 -0.2115,-0.19386 -0.0625,-0.75586 l 0.839844,-3.179687 c 0.319,-1.164 0.212265,-1.9199219 -0.427735,-1.9199219 z",fill:"#FFF",stroke:"none"})))}}class z extends d.PureComponent{render(){const e=[["j","Go back 10 seconds"],["<Left>","Go back 5 seconds"],[()=>d.createElement("tr",{key:"space"},d.createElement("th",{scope:"row"},d.createElement("kbd",null,"k")," or ",d.createElement("kbd",null,"<Space>")),d.createElement("td",null,"Play/pause"))],["<Right>","Go forward 5 seconds"],["l","Go forward 10 seconds"],[()=>d.createElement("tr",{key:"number"},d.createElement("th",{scope:"row"},d.createElement("kbd",null,"<0>")," – ",d.createElement("kbd",null,"<9>")),d.createElement("td",null,"Skip to 10",d.createElement("var",null,"n"),"% of the way through the video"))],["f","Full screen"],["<Up>","Increase volume 5%"],["<Down>","Decrease volume 5%"],["m","Mute/unmute"],["?","Show help"]];return N.createPortal(d.createElement("div",{className:"rp-help-dialog",style:this.props.style},d.createElement("button",{onClick:this.props.openDialog},"×"),d.createElement("div",{className:"rp-help-tables"},d.createElement("table",null,d.createElement("caption",null,"Video controls"),d.createElement("tbody",null,e.map(([e,t])=>"function"==typeof e?e():d.createElement("tr",{key:e},d.createElement("th",{scope:"row"},d.createElement("kbd",null,e)),d.createElement("td",null,t))))),d.createElement("table",null,d.createElement("caption",null,"3D controls"),d.createElement("tbody",null,[["Left mouse","Orbit"],["Scroll wheel","Zoom"],["Right mouse","Pan"]].map(([e,t])=>d.createElement("tr",{key:e},d.createElement("th",{scope:"row"},d.createElement("kbd",null,e)),d.createElement("td",null,t))))))),document.body)}}class G extends U{componentDidMount(){const{playback:e}=this.props.player;e.hub.on("pause",()=>this.forceUpdate()),e.hub.on("play",()=>this.forceUpdate()),e.hub.on("seeking",()=>this.forceUpdate()),e.hub.on("seeked",()=>this.forceUpdate()),e.hub.on("stop",()=>this.forceUpdate())}render(){const{playback:e}=this.props.player;return d.createElement("svg",{className:"rp-controls-playpause",onClick:e.paused?e.play:e.pause,viewBox:"0 0 36 36"},e.paused||e.seeking?d.createElement("path",{d:"M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z",fill:"white"}):d.createElement("path",{d:"M 12 26 h 4 v -16 h -4 z M 21 26 h 4 v -16 h -4 z",fill:"white"}))}}class H extends d.PureComponent{componentDidMount(){const{cols:e,rows:t,frequency:n,path:s,player:r}=this.props,i=e*t,o=Math.floor(r.playback.length/n/1e3),a=Math.floor(o/i);r.hub.on("canplay",()=>{for(let e=0;e<=a;++e){(new Image).src=s.replace("%s",e.toString())}})}render(){const{cols:e,rows:t,frequency:n,path:s,progress:r,show:i,title:o,height:a,width:l}=this.props,{playback:c}=this.props.player,u=e*t,h=r*c.length/1e3,p=Math.floor(h/n),m=Math.floor(p/u),f=p%u,y=Math.floor(f/t),v=f%t,g=s.replace("%s",m.toString());return d.createElement("div",{className:"rp-controls-thumbnail",style:{display:i?"block":"none",left:`calc(${100*r}%)`}},o&&d.createElement("span",{className:"rp-thumbnail-title"},o),d.createElement("div",{className:"rp-thumbnail-box"},d.createElement("img",{src:g,style:{left:`-${v*l}px`,top:`-${y*a}px`}}),d.createElement("span",{className:"rp-thumbnail-time"},x(1e3*h))))}}function Q(e,t=(e=>{}),n=(e=>{})){return s=>{if(0!==s.button)return;let r=s.clientX,i=s.clientY;function o(t){const n=t.clientX-r,s=t.clientY-i;return r=t.clientX,i=t.clientY,e(t,n,s)}function a(e){return document.body.removeEventListener("mousemove",o),window.removeEventListener("mouseup",a),n(e)}return document.body.addEventListener("mousemove",o),window.addEventListener("mouseup",a),t(s,a,o)}}function q(e,t,n){return{onMouseDown:Q(e,t,n),onMouseUp:e=>{e.persist(),e[re.ignoreCanvasClick]=!0}}}class K extends U{constructor(e){super(e),this.player=e.player,y(this,["onDrag","onMouseDown","onMouseMove","onMouseUp"]),this.state={progress:0,seeking:!1,showThumb:!1,thumbProgress:0,thumbTitle:null}}componentDidMount(){const{playback:e}=this.player;e.hub.on("seek",()=>this.forceUpdate()),e.hub.on("timeupdate",()=>this.forceUpdate())}onMouseDown(e){const{playback:t}=this.player;t.seeking=!0;const n=this.scrubberBar.getBoundingClientRect(),s=k(0,(e.pageX-n.left)/n.width,1);t.seek(s*t.length)}onDrag(e){const{playback:t}=this.player,n=this.scrubberBar.getBoundingClientRect(),s=k(0,(e.pageX-n.left)/n.width,1);t.seek(s*t.length)}onMouseMove(e){const t=this.scrubberBar.getBoundingClientRect(),n=k(0,(e.pageX-t.left)/t.width,1);this.setState({thumbProgress:n})}onMouseUp(){this.player.playback.seeking=!1}render(){const{playback:e,buffers:t}=this.player,n=e.currentTime/e.length*100,{thumbProgress:s}=this.state,r=s*e.length,i=(Math.floor(r/1e3/1),this.props.thumbs&&this.props.thumbs.highlights||[]);Array.from(t.values()).reduce((e,t)=>e.concat(t),[]);return d.createElement("div",{className:"rp-controls-scrub",onMouseDown:Q(this.onDrag,this.onMouseDown,this.onMouseUp),ref:e=>this.scrubberBar=e},this.props.thumbs&&d.createElement(H,Object.assign({},this.props.thumbs,{player:this.player,progress:s,show:this.state.showThumb,title:this.state.thumbTitle})),d.createElement("div",{className:"rp-controls-scrub-wrap",onMouseOver:()=>this.setState({showThumb:!0}),onMouseMove:this.onMouseMove,onMouseOut:()=>this.setState({showThumb:!1})},d.createElement("svg",{className:"rp-controls-scrub-progress",preserveAspectRatio:"none",viewBox:"0 0 100 10"},d.createElement("rect",{className:"rp-progress-elapsed",x:"0",y:"0",height:"10",width:n}),d.createElement("rect",{className:"rp-progress-remaining",x:n,y:"0",height:"10",width:100-n}),i.map(({time:t,title:n})=>d.createElement("rect",{key:t,className:["rp-thumb-highlight"].concat(t<=e.currentTime?"past":[]).join(" "),onMouseOver:()=>this.setState({thumbTitle:n}),onMouseOut:()=>this.setState({thumbTitle:null}),x:t/e.length*100,y:"0",width:"1",height:"10"}))),d.createElement("svg",{className:"rp-scrubber",style:{left:`calc(${n}% - 6px)`},viewBox:"0 0 100 100"},d.createElement("circle",{cx:"50",cy:"50",r:"50",stroke:"none"}))))}}const X="#AF1866",Y=[.25,.5,.75,1,1.25,1.5,2];class W extends U{constructor(e){super(e),this.playback=e.player.playback,y(this,["toggleDialog","toggleSubtitles"]),this.state={dialogOpen:!1,speedDialogOpen:!1}}componentDidMount(){this.playback.hub.on("ratechange",()=>this.forceUpdate())}closeDialog(){this.setState({dialogOpen:!1,speedDialogOpen:!1})}setSpeed(e){this.playback.playbackRate=e,this.setState({dialogOpen:!0,speedDialogOpen:!1})}toggleDialog(){this.setState({dialogOpen:!(this.state.dialogOpen||this.state.speedDialogOpen),speedDialogOpen:!1})}toggleSubtitles(){document.body.classList.toggle("rp-captions"),this.forceUpdate()}render(){const e={display:this.state.dialogOpen?"block":"none"},t={display:this.state.speedDialogOpen?"block":"none"},n=document.body.classList.contains("rp-captions"),{playbackRate:s}=this.playback;return d.createElement("div",{className:"rp-controls-settings"},d.createElement("div",{className:"rp-settings-speed-dialog",style:t},d.createElement("span",{className:"rp-dialog-subtitle",onClick:()=>this.setState({dialogOpen:!0,speedDialogOpen:!1})},"< Speed"),d.createElement("ul",null,Y.map(e=>d.createElement("li",{className:e===s?"selected":"",key:e,onClick:()=>this.setSpeed(e)},1===e?"Normal":e.toString())))),d.createElement("div",{className:"rp-settings-dialog",style:e},d.createElement("table",null,d.createElement("tbody",null,d.createElement("tr",{onClick:()=>this.setState({speedDialogOpen:!0,dialogOpen:!1})},d.createElement("th",{scope:"row"},"Speed"),d.createElement("td",null,1===s?"Normal":s," >")),d.createElement("tr",{onClick:this.toggleSubtitles},d.createElement("th",{scope:"row"},"Subtitles"),d.createElement("td",null,d.createElement("svg",{height:"25",viewBox:"0 0 70 50"},d.createElement("rect",{fill:n?X:"#888",x:"2",y:"11",height:"28",width:"66",rx:"12",ry:"12"}),d.createElement("circle",{cx:n?50:20,cy:"25",r:"20",fill:"#EEE"}))))))),d.createElement("svg",{onClick:this.toggleDialog,viewBox:"0 0 48 48"},d.createElement("path",{fill:"#FFF",d:"m24.04 0.14285c-1.376 0-2.7263 0.12375-4.0386 0.34741l-0.64 6.7853c-1.3572 0.37831-2.6417 0.90728-3.8432 1.585l-5.244-4.3317c-2.2152 1.5679-4.1541 3.4955-5.7217 5.7101l4.3426 5.2437c-0.67695 1.2001-1.2177 2.4878-1.5959 3.8432l-6.7745 0.64053c-0.22379 1.3127-0.34741 2.6622-0.34741 4.0386 0 1.3788 0.12285 2.7238 0.34741 4.0386l6.7745 0.64056c0.37825 1.3554 0.91896 2.6431 1.5959 3.8432l-4.3317 5.2437c1.5648 2.2089 3.4908 4.1457 5.6997 5.7105l5.2545-4.3426c1.2023 0.67835 2.485 1.2174 3.8432 1.5959l0.64053 6.7853c1.3123 0.22368 2.6626 0.33658 4.0386 0.33658s2.7155-0.11289 4.0278-0.33658l0.64053-6.7853c1.3582-0.37847 2.6409-0.91755 3.8432-1.5959l5.2545 4.3426c2.2088-1.5649 4.1348-3.5017 5.6997-5.7105l-4.3317-5.2437c0.67695-1.2001 1.2177-2.4878 1.5959-3.8432l6.7744-0.64056c0.22456-1.3148 0.34741-2.6598 0.34741-4.0386 0-1.3765-0.12361-2.726-0.34741-4.0386l-6.7744-0.64053c-0.37825-1.3554-0.91896-2.6431-1.5959-3.8432l4.3426-5.2437c-1.568-2.2146-3.507-4.1422-5.722-5.7101l-5.2437 4.3317c-1.2015-0.67776-2.486-1.2067-3.8432-1.585l-0.641-6.7853c-1.3123-0.22366-2.6518-0.34741-4.0278-0.34741zm0 14.776c5.0178 0 9.076 4.0691 9.076 9.0869s-4.0582 9.0869-9.076 9.0869-9.0869-4.0691-9.0869-9.0869 4.0691-9.0869 9.0869-9.0869z"})))}}class Z extends U{constructor(e){super(e),this.playback=e.player.playback}componentDidMount(){this.playback.hub.on("seek",()=>this.forceUpdate()),this.playback.hub.on("timeupdate",()=>this.forceUpdate())}render(){const{playback:e}=this;return d.createElement("span",{className:"rp-controls-time"},d.createElement("span",{className:"rp-current-time"},x(e.currentTime)),d.createElement("span",{className:"rp-time-separator"},"/"),d.createElement("span",{className:"rp-total-time"},x(e.length)))}}class J extends U{constructor(e){super(e),this.player=e.player,y(this,["onInput"])}componentDidMount(){this.player.playback.hub.on("volumechange",()=>this.forceUpdate())}onInput(e){this.player.playback.volume=parseInt(e.target.value)/100}render(){const{playback:e}=this.player;return d.createElement("div",{className:"rp-controls-volume"},d.createElement("svg",{onClick:()=>e.muted=!e.muted,viewBox:"0 0 100 100"},d.createElement("path",{d:"M 10 35 h 20 l 25 -20 v 65 l -25 -20 h -20 z",fill:"white",stroke:"none"}),e.muted?d.createElement("path",{d:"M 63 55 l 20 20 m 0 -20 l -20 20",stroke:"white",strokeWidth:"7"}):d.createElement("g",null,e.volume>0&&d.createElement("path",{d:"M 62 32.5 a 1,1 0 0,1 0,30",fill:"white",stroke:"none"}),e.volume>=.5&&d.createElement("path",{d:"M 62 15 a 1,1 0 0,1 0,65 v -10 a 10,10 0 0,0 0,-45 v -10 z",fill:"white",stroke:"none"}))),d.createElement("input",{min:"0",max:"100",onChange:this.onInput,onInput:this.onInput,type:"range",value:e.muted?0:100*e.volume}))}}const ee=1e3;class te extends d.PureComponent{constructor(e){super(e),this.player=e.player,this.captureKeys=!0,this.hub=new T,y(this,["forceUpdate","onKeyDown","resetTimer"]),this.state={visible:!0}}canvasClick(){const{playback:e}=this.player;this.player.applyHooks("canvasClick").every(e=>e)&&(e.paused?e.play():e.pause()),this.$settingsControl.closeDialog()}componentDidMount(){const{playback:e}=this.player;document.body.addEventListener("keydown",this.onKeyDown),document.body.addEventListener("mousemove",this.resetTimer),e.hub.on("play",this.resetTimer),e.hub.on("pause",()=>{clearTimeout(this.timer),this.setState({visible:!0})}),document.body.addEventListener("mouseleave",()=>{this.player.playback.paused||this.setState({visible:!1})})}onKeyDown(e){if(!this.captureKeys)return;if(e.altKey||e.ctrlKey||e.metaKey)return;e.preventDefault(),this.resetTimer();const{playback:t,script:n}=this.player;switch(e.key.toLowerCase()){case"arrowleft":return void t.seek(t.currentTime-5*ee);case"j":return void t.seek(t.currentTime-10*ee);case"k":case" ":return void t[t.paused?"play":"pause"]();case"arrowright":return void t.seek(t.currentTime+5*ee);case"l":return void t.seek(t.currentTime+10*ee);case"f":return void(P()?M():O());case"<":return void(t.playbackRate=Y[Math.max(0,Y.indexOf(t.playbackRate)-1)]);case">":return void(t.playbackRate=Y[Math.min(Y.length-1,Y.indexOf(t.playbackRate)+1)]);case"arrowup":return void(t.volume=t.volume+.05);case"arrowdown":return void(t.volume=t.volume-.05);case"m":return void(t.muted=!t.muted);case"w":return void n.back();case"e":return void n.forward();case"?":return void this.$helpControl.toggleDialog();case"escape":return void this.$helpControl.closeDialog()}const s=parseInt(e.key);isNaN(s)||t.seek(t.length*s/10)}resetTimer(){this.player.playback.paused||(void 0!==this.timer&&clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.setState({visible:!1})},3e3),this.setState({visible:!0}))}render(){const e=["rp-controls"];return this.state.visible||e.push("hidden"),d.createElement(re.Broadcaster,null,d.createElement("div",{className:e.join(" ")},d.createElement(K,{thumbs:this.props.thumbs}),d.createElement("div",{className:"rp-controls-buttons"},d.createElement(G,null),this.props.activities&&d.createElement(j,{list:this.props.activities}),d.createElement(J,null),d.createElement(Z,null),d.createElement("div",{className:"rp-controls-float-right"},this.player.applyHooks("controls"),d.createElement(W,{ref:e=>this.$settingsControl=e}),d.createElement($,{ref:e=>this.$helpControl=e}),d.createElement(V,null)))))}}class ne extends d.PureComponent{componentDidMount(){const{playback:e}=this.props.player;e.hub.on("cuechange",()=>{this.domElement.innerHTML="";for(const t of e.captions)this.domElement.appendChild(t)})}render(){return d.createElement("div",{className:"rp-captions-display",ref:e=>this.domElement=e})}}class se extends d.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){console.log(e),console.log(t),this.setState({hasError:!0})}render(){return this.state.hasError?d.createElement("h1",null,"Something went wrong."):this.props.children}}class re extends d.PureComponent{constructor(e){super(e),this.hub=new T,this.__canPlayTasks=[],this.__canPlayThroughTasks=[],this.script=this.props.script,this.playback=this.script.playback,this.rememberVolumeSettings(),this.buffers=new Map,this.hooks=new Map;const t=(e,t)=>{this.hooks.has(e)||this.hooks.set(e,[]),this.hooks.get(e).push(t)};this.props.plugins.forEach(e=>e.setup(t)),this.state={ready:!1},y(this,["onMouseUp"])}componentDidMount(){Promise.all(this.__canPlayTasks).then(()=>this.hub.emit("canplay")),Promise.all(this.__canPlayThroughTasks).then(()=>this.hub.emit("canplaythrough"))}rememberVolumeSettings(){const{playback:e}=this,t=window.sessionStorage;e.volume=parseFloat(t.getItem("ractive volume")||"1"),e.muted="true"===(t.getItem("ractive muted")||"false"),e.hub.on("volumechange",()=>{t.setItem("ractive muted",e.muted.toString()),t.setItem("ractive volume",e.volume.toString())})}updateSlides(){const{script:e}=this;!function t(n){if(void 0===n.first)return n.children.forEach(t);if(n.first<=e.slideIndex&&(!n.last||e.slideIndex<n.last))return n.element.style.removeProperty("opacity"),n.element.style.removeProperty("pointer-events"),n.children.forEach(t);n.element.style.opacity="0";n.element.style["pointer-events"]="none"}(this.dag)}onMouseUp(e){e[re.ignoreCanvasClick]||this.$controls.canvasClick()}ready(){this.dag=function(e,t){const n=Array.from(e.querySelectorAll("*[data-from-first], *[data-annotation_slide]")),s={children:[],element:e},r=[s];for(const e of n){let n,s;e.dataset.fromFirst?(n=e.dataset.fromFirst,s=e.dataset.fromLast):[n,s]=e.dataset.annotation_slide.split(","),e.style.opacity="0",e.style.pointerEvents="none",e.removeAttribute("data-from-first"),e.removeAttribute("data-from-last"),e.removeAttribute("data-annotation_slide");const i={children:[],element:e,first:t(n)};s&&(i.last=t(s));let o=r[r.length-1];for(;!o.element.contains(e);)r.pop(),o=r[r.length-1];o.children.push(i),r.push(i)}return s}(this.canvas,this.script.slideNumberOf),this.script.hub.on("slideupdate",()=>this.updateSlides()),this.updateSlides(),this.setState({ready:!0})}registerBuffer(e){this.buffers.set(e,[])}updateBuffer(e,t){this.buffers.set(e,t),this.playback.hub.emit("bufferupdate")}obstruct(e,t,n="miscellaneous"){"canplay"===e?this.__canPlayTasks.push(t):this.__canPlayThroughTasks.push(t)}applyHooks(e){return this.hooks.has(e)?this.hooks.get(e).map(e=>e()):[]}render(){const e={style:this.props.style},t=["ractive-player"];return this.state.ready||t.push("not-ready"),t.push(...this.applyHooks("classNames")),d.createElement(re.Context.Provider,{value:this},d.createElement("div",Object.assign({className:t.join(" ")},e),d.createElement(ie,{ref:e=>this.loadingScreen=e}),d.createElement("div",{className:"rp-canvas",onMouseUp:this.onMouseUp,ref:e=>this.canvas=e},this.props.children),d.createElement(ne,{player:this}),d.createElement(se,null,d.createElement(te,{player:this,ref:e=>this.$controls=e,activities:this.props.activities,ready:this.state.ready,thumbs:this.props.thumbs}))))}}re.ReceiverSymbol=F,re.Context=R,re.Receiver=I,re.PureReceiver=U,re.Broadcaster=B,re.ignoreCanvasClick=Symbol(),re.defaultProps={plugins:[],style:{}},re.CONTROLS_HEIGHT=44;class ie extends d.PureComponent{constructor(e){super(e)}render(){return d.createElement("div",{className:"rp-loading-screen"},d.createElement("div",{className:"rp-loading-spinner"}))}}function oe(e){const t=document.createElement("template");return t.innerHTML=e,t.content.cloneNode(!0)}var ae=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(n[s[r]]=e[s[r]])}return n};class le extends S{componentDidMount(){super.componentDidMount();const{playback:e}=this.player;for(const t of Array.from(this.domElement.textTracks))t.addEventListener("cuechange",n=>{const s=[];for(const e of Array.from(t.activeCues)){const t=e.text.replace(/\n/g,"<br/>");s.push(oe(t))}e.captions=s})}render(){const e=this.props,{start:t,player:n,obstructCanPlay:s,obstructCanPlayThrough:r,children:i}=e,o=ae(e,["start","player","obstructCanPlay","obstructCanPlayThrough","children"]);return d.createElement("audio",Object.assign({ref:e=>this.domElement=e},o),i)}}var ce=d.forwardRef((e,t)=>d.createElement(re.Context.Consumer,null,n=>d.createElement(le,Object.assign({},e,{ref:t,player:n}))));class ue extends re.PureReceiver{constructor(e){super(e),this.player=e.player;const{script:t}=this.player;this.sbn=t.slideByName.bind(t),this.sn=t.slideNumberOf.bind(t),y(this,["onSlideUpdate","onTimeUpdate"])}componentDidMount(){const{playback:e,script:t}=this.player;e.hub.on("seek",this.onTimeUpdate),e.hub.on("timeupdate",this.onTimeUpdate),t.hub.on("slideupdate",this.onSlideUpdate)}onSlideUpdate(e){}onTimeUpdate(e){}}function he(e){"startValue"in e||(e.startValue=0),"endValue"in e||(e.endValue=1),"easing"in e||(e.easing=(e=>e));const{startValue:t,endValue:n,startTime:s,duration:r,easing:i}=e;return e=>t+i(k(0,(e-s)/r,1))*(n-t)}function pe({data:e,start:t,end:n,active:s,inactive:r}){const i=e.map(e=>e[0]);for(let e=1;e<i.length;++e)i[e]+=i[e-1];void 0===t&&(t=0),void 0===n&&(n=t+i[i.length-1]);let o=0,a=0;return function(l){if(l<o&&(a=0),o=l,l<t||l>=n)return r();let c=Math.min(a,i.length-1);for(;a<i.length&&t+i[a]<l;a++)c=a;const[,u]=e[c];s(u,c)}}const de={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};class me extends d.PureComponent{constructor(e){super(e);const{script:t}=this.props.player;this.start="number"==typeof e.start?e.start:t.slideByName(e.start)[1],this.end="number"==typeof e.end?e.end:t.slideByName(e.end)[1]}componentDidMount(){const{playback:e}=this.props.player,{display:t}=this.domElement.style;this.domElement.style.display="block";const{height:n,width:s}=this.domElement.getBoundingClientRect();this.domElement.style.display=t;const r=pe({data:this.props.replay,start:this.start,end:this.end,active:([e,t])=>{Object.assign(this.domElement.style,{display:"block",left:`calc(${e}vmin - ${s/2}px)`,top:`calc(${t}vmin - ${n/2}px)`})},inactive:()=>{this.domElement.style.display="none"}});e.hub.on("seek",()=>r(e.currentTime)),e.hub.on("timeupdate",r),r(e.currentTime)}render(){const{playback:e}=this.props.player,t={display:this.start<=e.currentTime&&e.currentTime<this.end?"block":"none"};return d.createElement("img",{className:"rp-cursor",ref:e=>{this.domElement=e},src:this.props.src,style:t})}}var fe=d.forwardRef((e,t)=>d.createElement(re.Context.Consumer,null,n=>d.createElement(me,Object.assign({},e,{ref:t,player:n}))));class ye extends d.PureComponent{constructor(e){super(e),y(this,["renderContent"])}render(){return this.props.hasOwnProperty("map")?d.createElement(ye.Context.Provider,{value:this.props.map},this.renderContent(this.props.map)):d.createElement(ye.Context.Consumer,null,this.renderContent)}renderContent(e){return d.createElement(re.Context.Consumer,null,t=>D(this.props.children,n=>{const s={};if(n.props.hasOwnProperty("id")){const{id:t}=n.props;void 0!==e[t]&&Object.assign(s,e[t])}return"string"!=typeof n.type&&"symbol"!=typeof n.type&&re.ReceiverSymbol in n.type&&Object.assign(s,{player:t}),0===Object.keys(s).length?n:d.cloneElement(n,s)}))}}ye.Context=d.createContext();class ve{constructor(e){Object.assign(this,{currentTime:0,hub:new T,length:e.length,playbackRate:1,playingFrom:0,startTime:performance.now(),__captions:[],__muted:!1,__playbackRate:1,paused:!0,__seeking:!1,__volume:1,__canPlayTasks:[],__canPlayThroughTasks:[]}),this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.audioNode=this.audioContext.createGain(),this.audioNode.connect(this.audioContext.destination),this.hub.setMaxListeners(0),y(this,["pause","play","__advance"]),requestAnimationFrame(this.__advance)}get captions(){return this.__captions}set captions(e){this.__captions=e,this.hub.emit("cuechange")}get muted(){return this.__muted}set muted(e){e!==this.__muted&&(this.__muted=e,this.__muted?this.audioNode.gain.value=0:this.audioNode.gain.setValueAtTime(this.volume,this.audioContext.currentTime),this.hub.emit("volumechange"))}get playbackRate(){return this.__playbackRate}set playbackRate(e){e!==this.__playbackRate&&(this.__playbackRate=e,this.playingFrom=this.currentTime,this.startTime=performance.now(),this.hub.emit("ratechange"))}get seeking(){return this.__seeking}set seeking(e){e!==this.__seeking&&(this.__seeking=e,this.__seeking?this.hub.emit("seeking"):this.hub.emit("seeked"))}pause(){this.paused=!0,this.playingFrom=this.currentTime,this.hub.emit("pause")}play(){this.paused=!1,this.hub.emit("play")}seek(e){"string"==typeof e&&(e=_(e)),e=k(0,e,this.length),this.currentTime=this.playingFrom=e,this.startTime=performance.now(),this.hub.emit("seek",e)}get volume(){return this.__volume}set volume(e){this.muted=!1,this.__volume=k(0,e,1),0===this.__volume?this.audioNode.gain.setValueAtTime(0,this.audioContext.currentTime):this.audioNode.gain.exponentialRampToValueAtTime(this.__volume,this.audioContext.currentTime+2),this.hub.emit("volumechange")}stop(){this.paused=!0,this.playingFrom=0,this.hub.emit("stop")}__advance(e){this.paused||this.__seeking?this.startTime=e:(this.currentTime=this.playingFrom+Math.max((e-this.startTime)*this.__playbackRate,0),this.currentTime>=this.length&&(this.currentTime=this.length,this.stop()),this.hub.emit("timeupdate",this.currentTime)),requestAnimationFrame(this.__advance)}}class ge{constructor(e){this.hub=new T,this.hub.setMaxListeners(0),y(this,["slideByName","slideNumberOf"]);let t=0;for(const n of e){if(2===n.length){const[,e]=n;n[1]=t,n[2]=t+_(e)}else{const[,e,t]=n;n[1]=_(e),n[2]=_(t)}t=n[2]}this.slides=e,this.slideIndex=0,this.__updateSlide=this.__updateSlide.bind(this),this.loadTasks=[],this.playback=new ve({length:this.slides[this.slides.length-1][2]}),this.playback.hub.on("seek",this.__updateSlide),this.playback.hub.on("timeupdate",this.__updateSlide)}get slideName(){return this.slides[this.slideIndex][0]}back(){this.playback.seek(this.slides[Math.max(0,this.slideIndex-1)][1])}forward(){this.playback.seek(this.slides[Math.min(this.slides.length-1,this.slideIndex+1)][1])}slideByName(e){return this.slides[this.slideNumberOf(e)]}slideNumberOf(e){for(let t=0;t<this.slides.length;++t)if(this.slides[t][0]===e)return t;throw new Error(`Slide ${e} does not exist`)}__updateSlide(e){let t;for(let n=0;n<this.slides.length;++n){const[,s,r]=this.slides[n];if(s<=e&&e<r){t=n;break}}void 0===t&&(t=this.slides.length-1);const n=this.slideIndex;t!==n&&(this.slideIndex=t,this.hub.emit("slideupdate",n))}}function be(...e){let t,n,s,r;1===e.length&&"object"==typeof e[0]?({x:t,y:n,w:s,h:r}=e[0]):[t,n,s,r]=e;const i={position:"absolute"};return void 0!==t&&(i.left=`${t*p}vmin`),void 0!==n&&(i.top=`${n*p}vmin`),void 0!==s&&(i.width=`${s*p}vmin`),void 0!==r&&(i.height=`${r*p}vmin`),{style:i}}function Ee(e){return e?{}:{style:{opacity:0,pointerEvents:"none"}}}function ke(e,t){return{"data-from-first":e,"data-from-last":t}}function we(e,t,n){return e?d.createElement(t,null,n):n}function _e(e,t,n){let s=e;for(;!(s instanceof SVGGraphicsElement);)s=s.parentNode;const r=e instanceof SVGSVGElement?e:e.ownerSVGElement,i=s.getScreenCTM().inverse();let o=r.createSVGPoint();return o.x=t,o.y=n,[(o=o.matrixTransform(i)).x,o.y]}function xe(e,t,n){const s=e.getBoundingClientRect(),r=e.viewBox.baseVal;return[t/(s.width/r.width),n/(s.height/r.height)]}function Ce(){THREE.ObjectLoader.prototype.loadPromise=function(e,t=(()=>{})){return new Promise((n,s)=>{this.load(e,n,t,s)})}}var Se=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(n[s[r]]=e[s[r]])}return n};class Te extends S{onSeek(e){const t=this.domElement.paused;super.onSeek(e),this.domElement.paused!==t&&(this.domElement.paused?this.domElement.style.display="none":this.domElement.style.display="block")}onTimeUpdate(e){const t=this.domElement.paused;super.onTimeUpdate(e),this.domElement.paused!==t&&(this.domElement.paused?this.domElement.style.display="none":this.domElement.style.display="block")}render(){const{playback:e}=this.player,t=this.props,{player:n,start:s,children:r,obstructCanPlay:i,obstructCanPlayThrough:o}=t,a=Se(t,["player","start","children","obstructCanPlay","obstructCanPlayThrough"]);return a.style=Object.assign({},a.style||{},{display:this.domElement&&w(this.start,e.currentTime,this.end)?"block":"none"}),d.createElement("video",Object.assign({ref:e=>this.domElement=e},a),r)}}var Oe=d.forwardRef((e,t)=>d.createElement(re.Context.Consumer,null,n=>d.createElement(Te,Object.assign({},e,{ref:t,player:n}))));n.d(t,"aspectRatio",function(){return p}),n.d(t,"Audio",function(){return ce}),n.d(t,"Block",function(){return ue}),n.d(t,"Cursor",function(){return fe}),n.d(t,"IdMap",function(){return ye}),n.d(t,"Playback",function(){return ve}),n.d(t,"Player",function(){return re}),n.d(t,"Script",function(){return ge}),n.d(t,"Utils",function(){return h}),n.d(t,"Video",function(){return Oe})}]);